<?xml version="1.0" encoding="UTF-8"?>
<modification>
	<name>Ajax advanced search</name>
	<version>2.0</version>
	
	<author>Punit kumar</author>
		<!--Catalog starts-->
		<file name="catalog/model/catalog/product.php">
		<operation error="log">
			<search position="before"><![CDATA[
				public function getProducts($data = array()) {
			]]></search>
			<add><![CDATA[				
				/**
					*Ajax advanced search starts
					*/
				public function ajaxLiveSearch($data=array()) {	
					if ($this->customer->isLogged()) {
						$customer_group_id = $this->customer->getCustomerGroupId();
					} else {
						$customer_group_id = $this->config->get('config_customer_group_id');
					}	

					$sql = "SELECT p.product_id, (SELECT AVG(rating) AS total FROM " . DB_PREFIX . "review r1 WHERE r1.product_id = p.product_id AND r1.status = '1' GROUP BY r1.product_id) AS rating, (SELECT price FROM " . DB_PREFIX . "product_discount pd2 WHERE pd2.product_id = p.product_id AND pd2.customer_group_id = '" . (int)$customer_group_id . "' AND pd2.quantity = '1' AND ((pd2.date_start = '0000-00-00' OR pd2.date_start < NOW()) AND (pd2.date_end = '0000-00-00' OR pd2.date_end > NOW())) ORDER BY pd2.priority ASC, pd2.price ASC LIMIT 1) AS discount, (SELECT price FROM " . DB_PREFIX . "product_special ps WHERE ps.product_id = p.product_id AND ps.customer_group_id = '" . (int)$customer_group_id . "' AND ((ps.date_start = '0000-00-00' OR ps.date_start < NOW()) AND (ps.date_end = '0000-00-00' OR ps.date_end > NOW())) ORDER BY ps.priority ASC, ps.price ASC LIMIT 1) AS special"; 

					if (!empty($data['filter_category_id'])) {
						if (!empty($data['filter_sub_category'])) {
							$sql .= " FROM " . DB_PREFIX . "category_path cp LEFT JOIN " . DB_PREFIX . "product_to_category p2c ON (cp.category_id = p2c.category_id)";			
						} else {
							$sql .= " FROM " . DB_PREFIX . "product_to_category p2c";
						}

						if (!empty($data['filter_filter'])) {
							$sql .= " LEFT JOIN " . DB_PREFIX . "product_filter pf ON (p2c.product_id = pf.product_id) LEFT JOIN " . DB_PREFIX . "product p ON (pf.product_id = p.product_id)";
						} else {
							$sql .= " LEFT JOIN " . DB_PREFIX . "product p ON (p2c.product_id = p.product_id)";
						}
					} else {
						$sql .= " FROM " . DB_PREFIX . "product p";
					}

					$sql .= " LEFT JOIN " . DB_PREFIX . "product_description pd ON (p.product_id = pd.product_id) LEFT JOIN " . DB_PREFIX . "product_to_store p2s ON (p.product_id = p2s.product_id) WHERE pd.language_id = '" . (int)$this->config->get('config_language_id') . "' AND p.status = '1' AND p.date_available <= NOW() AND p2s.store_id = '" . (int)$this->config->get('config_store_id') . "'";

					if (!empty($data['filter_category_id'])) {
						if (!empty($data['filter_sub_category'])) {
							$sql .= " AND cp.path_id = '" . (int)$data['filter_category_id'] . "'";	
						} else {
							$sql .= " AND p2c.category_id = '" . (int)$data['filter_category_id'] . "'";			
						}	

						if (!empty($data['filter_filter'])) {
							$implode = array();

							$filters = explode(',', $data['filter_filter']);

							foreach ($filters as $filter_id) {
								$implode[] = (int)$filter_id;
							}

							$sql .= " AND pf.filter_id IN (" . implode(',', $implode) . ")";				
						}
					}	

					if (!empty($data['filter_name']) || !empty($data['filter_tag'])) {
						$sql .= " AND (";

						if (!empty($data['filter_name'])) {
							$implode = array();

							$words = explode(' ', trim(preg_replace('/\s\s+/', ' ', $data['filter_name'])));

							foreach ($words as $word) {
								$implode[] = "LCASE(pd.name) LIKE '%" . $this->db->escape($word) . "%'";
							}

							if ($implode) {
								$sql .= " " . implode(" AND ", $implode) . "";
							}

							if (!empty($data['filter_description'])) {
								$sql .= " OR pd.description LIKE '%" . $this->db->escape($data['filter_name']) . "%'";
							}
						}

						if (!empty($data['filter_name']) && !empty($data['filter_tag'])) {
							$sql .= " OR ";
						}

						if (!empty($data['filter_tag'])) {
							$sql .= "pd.tag LIKE '%" . $this->db->escape($data['filter_name']) . "%'";
						}

						if (!empty($data['filter_model'])) {
							$sql .= " OR LCASE(p.model) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}

						if (!empty($data['filter_sku'])) {
							$sql .= " OR LCASE(p.sku) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}	

						if (!empty($data['filter_upc'])) {
							$sql .= " OR LCASE(p.upc) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}		

						if (!empty($data['filter_ean'])) {
							$sql .= " OR LCASE(p.ean) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}

						if (!empty($data['filter_jan'])) {
							$sql .= " OR LCASE(p.jan) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}

						if (!empty($data['filter_isbn'])) {
							$sql .= " OR LCASE(p.isbn) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}		

						if (!empty($data['filter_mpn'])) {
							$sql .= " OR LCASE(p.mpn) LIKE '" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%'";
						}
						
						if (!empty($data['filter_manufacturer'])) {
							$sql .= " OR p.manufacturer_id IN (SELECT manufacturer_id from ".DB_PREFIX."manufacturer WHERE `name` LIKE '%" . $this->db->escape(utf8_strtolower($data['filter_name'])) . "%')";
						}
						
						$sql .= ")";
					}

					if (!empty($data['filter_manufacturer_id'])) {
						$sql .= " AND p.manufacturer_id = '" . (int)$data['filter_manufacturer_id'] . "'";
					}

					$sql .= " GROUP BY p.product_id";

					$sort_data = array(
						'pd.name',
						'p.model',
						'p.quantity',
						'p.price',
						'rating',
						'p.sort_order',
						'p.date_added'
					);	

					if (isset($data['sort']) && in_array($data['sort'], $sort_data)) {
						if ($data['sort'] == 'pd.name' || $data['sort'] == 'p.model') {
							$sql .= " ORDER BY LCASE(" . $data['sort'] . ")";
						} elseif ($data['sort'] == 'p.price') {
							$sql .= " ORDER BY (CASE WHEN special IS NOT NULL THEN special WHEN discount IS NOT NULL THEN discount ELSE p.price END)";
						} else {
							$sql .= " ORDER BY " . $data['sort'];
						}
					} else {
						$sql .= " ORDER BY p.sort_order";	
					}

					if (isset($data['order']) && ($data['order'] == 'DESC')) {
						$sql .= " DESC, LCASE(pd.name) DESC";
					} else {
						$sql .= " ASC, LCASE(pd.name) ASC";
					}

					if (isset($data['start']) || isset($data['limit'])) {
						if ($data['start'] < 0) {
							$data['start'] = 0;
						}				

						if ($data['limit'] < 1) {
							$data['limit'] = 10; // set default limit if empty in admin then 10
						}	

						$sql .= " LIMIT " . (int)$data['start'] . "," . (int)$data['limit'];
					}
					$product_data = array();

					$query = $this->db->query($sql);

					foreach ($query->rows as $result) {
						$product_data[$result['product_id']] = $this->getProduct($result['product_id']);						
					}
					
					return $product_data;
				}
				/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
	</file>
	<file name="catalog/language/*/common/header.php">
		<operation error="log">
			<search position="after"><![CDATA[
				// Text
			]]></search>
			<add><![CDATA[				
				/**
					*Ajax advanced search starts
					*/
				$_['ajaxadvancedsearch_model'] = 'Model :';
				$_['ajaxadvancedsearch_manufacturer'] = 'Manufacturer :';
				$_['ajaxadvancedsearch_price'] = 'Price :';
				$_['ajaxadvancedsearch_stock'] = 'Stock status :';
				$_['ajaxadvancedsearch_quantity'] = 'Quantity :';
				$_['ajaxadvancedsearch_rating'] = 'Rating :';
				$_['ajaxadvancedsearch_allresults'] = 'All results';
					/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
	</file>
	<file name="catalog/controller/common/header.php">
		<operation error="log">
			<search position="after"><![CDATA[
				protected function index() {
			]]></search>
			<add><![CDATA[				
				/**
					*Ajax advanced search starts
					*/
					$this->language->load('common/header');
					$this->data['ajaxadvancedsearch_model'] = $this->language->get('ajaxadvancedsearch_model');
					$this->data['ajaxadvancedsearch_manufacturer'] = $this->language->get('ajaxadvancedsearch_manufacturer');
					$this->data['ajaxadvancedsearch_price'] = $this->language->get('ajaxadvancedsearch_price');
					$this->data['ajaxadvancedsearch_stock'] = $this->language->get('ajaxadvancedsearch_stock');
					$this->data['ajaxadvancedsearch_quantity'] = $this->language->get('ajaxadvancedsearch_quantity');
					$this->data['ajaxadvancedsearch_rating'] = $this->language->get('ajaxadvancedsearch_rating');
					$this->data['ajaxadvancedsearch_allresults'] = $this->language->get('ajaxadvancedsearch_allresults');

					$this->data['ajaxadvancesearch_status'] = false;
					$this->data['ajaxadvancesearch_imagewidth'] = 100;
					$this->data['ajaxadvancesearch_imageheight'] = 100;
					$this->data['ajaxadvancesearch_charlimit'] = 0;
					$this->data['ajaxadvancedsearch_displayallresults'] = 0;
					$this->data['ajaxadvancedsearch_result_view'] = 'default-view';
					$this->data['ajaxadvancedsearch_color_evenresult'] = '';
					$this->data['ajaxadvancedsearch_color_oddresult'] = '';
					$this->data['ajaxadvancedsearch_color_resulthover'] = '';
					$this->data['ajaxadvancedsearch_colordefaultall'] = false;
					$this->data['ajaxadvancedsearch_color_default'] = '';
					$this->data['ajaxadvancedsearch_color_defaulthover'] = '';
					$this->data['ajaxadvancedsearch_color_heading'] = '';
					$this->data['ajaxadvancedsearch_color_headinghover'] = '';
					$this->data['ajaxadvancedsearch_color_model'] = '';
					$this->data['ajaxadvancedsearch_color_modelhover'] = '';
					$this->data['ajaxadvancedsearch_color_manufacturer'] = '';
					$this->data['ajaxadvancedsearch_color_manufacturerhover'] = '';
					$this->data['ajaxadvancedsearch_color_price'] = '';
					$this->data['ajaxadvancedsearch_color_pricehover'] = '';
					$this->data['ajaxadvancedsearch_color_stockstatus'] = '';
					$this->data['ajaxadvancedsearch_color_stockstatushover'] = '';
					$this->data['ajaxadvancedsearch_color_quantity'] = '';
					$this->data['ajaxadvancedsearch_color_quantityhover'] = '';
					$this->data['ajaxadvancedsearch_color_highlight'] = '38b0e3';
					$this->data['ajaxadvancedsearch_color_highlighthover'] = '38b0e3';


					if(''!=$this->config->get('config_ajaxadvancedsearch') && 1==$this->config->get('config_ajaxadvancedsearch')){
						$this->data['ajaxadvancesearch_status'] =  $this->config->get('config_ajaxadvancedsearch');
					}
					if(''!=$this->config->get('config_ajaxadvancedsearch_image_width')){
						$this->data['ajaxadvancesearch_imagewidth'] = (int)$this->config->get('config_ajaxadvancedsearch_image_width');
					}
					if(''!=$this->config->get('config_ajaxadvancedsearch_image_height')){
						$this->data['ajaxadvancesearch_imageheight'] = (int)$this->config->get('config_ajaxadvancedsearch_image_height');
					}
					if(''!=$this->config->get('config_ajaxadvancedsearch_charlimit') && 0!=(int)$this->config->get('config_ajaxadvancedsearch_charlimit')){
						$this->data['ajaxadvancesearch_charlimit'] = (int)$this->config->get('config_ajaxadvancedsearch_charlimit');
					}
					if(''!=$this->config->get('config_ajaxadvancedsearch_displayallresults')){
						$this->data['ajaxadvancedsearch_displayallresults'] = (int)$this->config->get('config_ajaxadvancedsearch_displayallresults');
					}
					if(''!=$this->config->get('config_ajaxadvancedsearch_result_view')){
						$this->data['ajaxadvancedsearch_result_view'] = $this->config->get('config_ajaxadvancedsearch_result_view');
					}
					if($this->config->get('config_ajaxadvancedsearch_colorenabletall')) {
						if(''!=$this->config->get('config_ajaxadvancedsearch_result_view') && 'default-view'!=$this->config->get('config_ajaxadvancedsearch_result_view')) {
							$this->data['ajaxadvancedsearch_color_evenresult'] = 'FFFFFF';
							$this->data['ajaxadvancedsearch_color_oddresult'] = 'FFFFFF';
						}else{
							$this->data['ajaxadvancedsearch_color_evenresult'] = 'FFFFFF';
							$this->data['ajaxadvancedsearch_color_oddresult'] = 'E4EEF7';
						}

						if(''!=$this->config->get('config_ajaxadvancedsearch_color_evenresult')){
							$this->data['ajaxadvancedsearch_color_evenresult'] = $this->config->get('config_ajaxadvancedsearch_color_evenresult');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_oddresult')){
							$this->data['ajaxadvancedsearch_color_oddresult'] = $this->config->get('config_ajaxadvancedsearch_color_oddresult');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_resulthover')){
							$this->data['ajaxadvancedsearch_color_resulthover'] = $this->config->get('config_ajaxadvancedsearch_color_resulthover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_colordefaultall')){
							$this->data['ajaxadvancedsearch_colordefaultall'] = $this->config->get('config_ajaxadvancedsearch_colordefaultall');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_heading')){
							$this->data['ajaxadvancedsearch_color_heading'] = $this->config->get('config_ajaxadvancedsearch_color_heading');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_headinghover')){
							$this->data['ajaxadvancedsearch_color_headinghover'] = $this->config->get('config_ajaxadvancedsearch_color_headinghover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_model')){
							$this->data['ajaxadvancedsearch_color_model'] = $this->config->get('config_ajaxadvancedsearch_color_model');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_modelhover')){
							$this->data['ajaxadvancedsearch_color_modelhover'] = $this->config->get('config_ajaxadvancedsearch_color_modelhover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_manufacturer')){
							$this->data['ajaxadvancedsearch_color_manufacturer'] = $this->config->get('config_ajaxadvancedsearch_color_manufacturer');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_manufacturerhover')){
							$this->data['ajaxadvancedsearch_color_manufacturerhover'] = $this->config->get('config_ajaxadvancedsearch_color_manufacturerhover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_price')){
							$this->data['ajaxadvancedsearch_color_price'] = $this->config->get('config_ajaxadvancedsearch_color_price');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_pricehover')){
							$this->data['ajaxadvancedsearch_color_pricehover'] = $this->config->get('config_ajaxadvancedsearch_color_pricehover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_stockstatus')){
							$this->data['ajaxadvancedsearch_color_stockstatus'] = $this->config->get('config_ajaxadvancedsearch_color_stockstatus');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_stockstatushover')){
							$this->data['ajaxadvancedsearch_color_stockstatushover'] = $this->config->get('config_ajaxadvancedsearch_color_stockstatushover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_quantity')){
							$this->data['ajaxadvancedsearch_color_quantity'] = $this->config->get('config_ajaxadvancedsearch_color_quantity');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_quantityhover')){
							$this->data['ajaxadvancedsearch_color_quantityhover'] = $this->config->get('config_ajaxadvancedsearch_color_quantityhover');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_highlight')){
							$this->data['ajaxadvancedsearch_color_highlight'] = $this->config->get('config_ajaxadvancedsearch_color_highlight');
						}
						if(''!=$this->config->get('config_ajaxadvancedsearch_color_highlighthover')){
							$this->data['ajaxadvancedsearch_color_highlighthover'] = $this->config->get('config_ajaxadvancedsearch_color_highlighthover');
						}

						if($this->data['ajaxadvancedsearch_colordefaultall']){
							if(''!=$this->config->get('config_ajaxadvancedsearch_color_default')){
								$this->data['ajaxadvancedsearch_color_default'] = $this->config->get('config_ajaxadvancedsearch_color_default');
							}
							if(''!=$this->config->get('config_ajaxadvancedsearch_color_defaulthover')){
								$this->data['ajaxadvancedsearch_color_defaulthover'] = $this->config->get('config_ajaxadvancedsearch_color_defaulthover');
							}
							$this->data['ajaxadvancedsearch_color_heading'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_headinghover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

							$this->data['ajaxadvancedsearch_color_model'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_modelhover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

							$this->data['ajaxadvancedsearch_color_manufacturer'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_manufacturerhover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

							$this->data['ajaxadvancedsearch_color_price'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_pricehover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

							$this->data['ajaxadvancedsearch_color_stockstatus'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_stockstatushover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

							$this->data['ajaxadvancedsearch_color_quantity'] = $this->data['ajaxadvancedsearch_color_default'];
							$this->data['ajaxadvancedsearch_color_quantityhover'] = $this->data['ajaxadvancedsearch_color_defaulthover'];

						}
					}
					/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
	</file>
	<file name="catalog/controller/common/header.php">
		<operation error="log">
			<search position="before"><![CDATA[
				protected function index() {
			]]></search>
			<add><![CDATA[				
				/**
					*Ajax advanced search starts
					*/
				public function ajaxLiveSearch() {
					$json = array();
					$explode =explode(',',$this->request->get['filter_name']);
					$this->request->get['filter_name'] =html_entity_decode(implode('', $explode), ENT_QUOTES, 'UTF-8');

					if(!empty($this->request->get['filter_name'])){
						$this->load->model('catalog/product');
						$this->load->model('tool/image');

						$filter_mpn = ($this->config->get('config_ajaxadvancedsearch_mpn')) ? true : false;
						$filter_manufacturer = ($this->config->get('config_ajaxadvancedsearch_manufacturer_search')) ? true : false;
						$filter_isbn = ($this->config->get('config_ajaxadvancedsearch_isbn')) ? true : false;
						$filter_jan = ($this->config->get('config_ajaxadvancedsearch_jan')) ? true : false;
						$filter_ean = ($this->config->get('config_ajaxadvancedsearch_ean')) ? true : false;
						$filter_upc = ($this->config->get('config_ajaxadvancedsearch_upc')) ? true : false;
						$filter_sku = ($this->config->get('config_ajaxadvancedsearch_sku')) ? true : false;
						$filter_model = ($this->config->get('config_ajaxadvancedsearch_model_search')) ? true : false;
						$filter_tag = ($this->config->get('config_ajaxadvancedsearch_tag')) ? true : false;

						$filterdata=array(
							'filter_name' => $this->request->get['filter_name'],
							'filter_mpn' => $filter_mpn,
							'filter_manufacturer' => $filter_manufacturer,
							'filter_isbn' => $filter_isbn,
							'filter_jan' => $filter_jan,
							'filter_ean' => $filter_ean,
							'filter_upc' => $filter_upc,
							'filter_sku' => $filter_sku,
							'filter_model' => $filter_model,
							'filter_tag' => $filter_tag,
							'start' => 0,
							'limit' =>  ($this->config->get('config_ajaxadvancedsearch_limit')!=0) ? $this->config->get('config_ajaxadvancedsearch_limit') : 5,
						);
						$results = (array) $this->model_catalog_product->ajaxLiveSearch($filterdata);
						foreach($results as $result){
							$width = 100;
							$height = 100;
							if($this->config->get('config_ajaxadvancedsearch_image_width')!='' && $this->config->get('config_ajaxadvancedsearch_image_height')!=''){
								$width = $this->config->get('config_ajaxadvancedsearch_image_width');
								$height = $this->config->get('config_ajaxadvancedsearch_image_height');
							}
							if(!empty($result['image'])&&file_exists(DIR_IMAGE .$result['image'])){
								$image = $this->model_tool_image->resize($result['image'],$width,$height);
							}else if(file_exists(DIR_IMAGE .'data/logo.png')){
								$image = $this->model_tool_image->resize('data/logo.png',$width,$height);
							}else{
								$image = $this->model_tool_image->resize('no_image.jpg',$width,$height);
							}
							// no highlight
							$highlight = false;
							if($this->config->get('config_ajaxadvancedsearch_highlight')!='' && $this->config->get('config_ajaxadvancedsearch_highlight')==1){
								// seperate highlight
								$highlight = 'seperate';
							}else if($this->config->get('config_ajaxadvancedsearch_highlight')!='' && $this->config->get('config_ajaxadvancedsearch_highlight')==2){
								// combine highlight
								$highlight = 'combine';
							}
							$name='';
							$model='';
							$manufacturer='';
							if($highlight == 'seperate'){
								$breakchars = array_map('strtolower',array_unique($explode));
								$name = html_entity_decode ($result['name'], ENT_QUOTES, 'UTF-8');
								$model = html_entity_decode ($result['model'], ENT_QUOTES, 'UTF-8');
								$manufacturer = html_entity_decode ($result['manufacturer'], ENT_QUOTES, 'UTF-8');
								foreach($breakchars as $breakchar){
									$breakchar = html_entity_decode ($breakchar, ENT_QUOTES, 'UTF-8');
									$name=html_entity_decode(str_ireplace($breakchar,'~'. htmlentities(substr($name,stripos($name,$breakchar),strlen($breakchar))) .'~~',$name), ENT_QUOTES, 'UTF-8');
									$model=html_entity_decode(str_ireplace($breakchar,'~'. htmlentities(substr($model,stripos($model,$breakchar),strlen($breakchar))) .'~~',$model), ENT_QUOTES, 'UTF-8');
									$manufacturer=html_entity_decode(str_ireplace($breakchar,'~'. htmlentities(substr($manufacturer,stripos($manufacturer,$breakchar),strlen($breakchar))) .'~~',$manufacturer), ENT_QUOTES, 'UTF-8');
								}
								$name= str_ireplace('~','<span class="highlight">',str_ireplace('~~','</span>',$name));
								$model= str_ireplace('~','<span class="highlight">',str_ireplace('~~','</span>',$model));
								$manufacturer= str_ireplace('~','<span class="highlight">',str_ireplace('~~','</span>',$manufacturer));

								/**
								 * str_split() will not working with UTF-8 character and other non english languages like Russian, Chiness, Arabic.
								 *
								foreach((array)str_split(html_entity_decode ($result['name'], ENT_QUOTES, 'UTF-8')) as $char){
									if(in_array(strtolower(strtoupper($char)),$breakchars)){
										$name.='<span class="highlight">'. htmlentities($char) .'</span>';
									}else{
										$name .= htmlentities($char);
									}
								}
								foreach((array)str_split(html_entity_decode ($result['model'], ENT_QUOTES, 'UTF-8')) as $char){
									if(in_array(strtolower(strtoupper($char)),$breakchars)){
										$model.='<span class="highlight">'. htmlentities($char) .'</span>';
									}else{
										$model .= htmlentities($char);
									}
								}

								foreach((array)str_split(html_entity_decode ($result['manufacturer'], ENT_QUOTES, 'UTF-8')) as $char){
									if(in_array(strtolower(strtoupper($char)),$breakchars)){
										$manufacturer.='<span class="highlight">'. htmlentities($char) .'</span>';
									}else{
										$manufacturer .= htmlentities($char);
									}
								}
							*/
							}else if($highlight == 'combine'){
								$breakchars = array();
								$result['name'] = html_entity_decode ($result['name'], ENT_QUOTES, 'UTF-8');
								$this->request->get['filter_name'] = html_entity_decode ($this->request->get['filter_name'], ENT_QUOTES, 'UTF-8');
								$name=str_ireplace($this->request->get['filter_name'],'<span class="highlight">'. htmlentities(substr($result['name'],stripos($result['name'],$this->request->get['filter_name']),strlen($this->request->get['filter_name']))) .'</span>',$result['name']);

								$result['model'] = html_entity_decode ($result['model'], ENT_QUOTES, 'UTF-8');
								$model=str_ireplace($this->request->get['filter_name'],'<span class="highlight">'. htmlentities(substr($result['model'],stripos($result['model'],$this->request->get['filter_name']),strlen($this->request->get['filter_name']))) .'</span>',$result['model']);

								$result['manufacturer'] = html_entity_decode ($result['manufacturer'], ENT_QUOTES, 'UTF-8');
								$manufacturer=str_ireplace($this->request->get['filter_name'],'<span class="highlight">'. htmlentities(substr($result['manufacturer'],stripos($result['manufacturer'],$this->request->get['filter_name']),strlen($this->request->get['filter_name']))) .'</span>',$result['manufacturer']);
							}else{
								$breakchars = array();
								$name=$result['name'];
								$model=$result['model'];
								$manufacturer=$result['manufacturer'];
							}
							/**Cusomer group price show starts*/
							$showprice=false;
							if($this->config->get('config_ajaxadvancedsearch_price')) {
								if($this->config->get('config_ajaxadvancedsearch_pricelogin')) {
									if( !is_null($this->config->get('config_ajaxadvancedsearch_customergroups')) && in_array($this->customer->getCustomerGroupId(),$this->config->get('config_ajaxadvancedsearch_customergroups'))){
										$showprice=true;
									}
								}else {
									$showprice=true;
								}
							}
							
							
							$price=false;
							if($showprice){
								$price=$this->currency->format($this->tax->calculate($result['price'], $result['tax_class_id'], $this->config->get('config_tax')));
							}
							/**Cusomer group price show ends*/
							
							$json[] = array(
								'product_id' => $result['product_id'],
								'name' => $name,
								'name1' => $result['name'],
								// seo friendly starts
								'url' => $this->url->link('product/product','product_id='.$result['product_id'],'SSL'),
								// seo friendly ends
								'model' => ($this->config->get('config_ajaxadvancedsearch_model')) ? $model: false ,
								'stock_status' =>  ($this->config->get('config_ajaxadvancedsearch_stock')) ?  $result['stock_status'] : false,
								'quantity' =>  ($this->config->get('config_ajaxadvancedsearch_quantity')) ?  $result['quantity'] : false,
								'image' => ($this->config->get('config_ajaxadvancedsearch_image')) ? $image : false,
								'manufacturer' => ($this->config->get('config_ajaxadvancedsearch_manufacturer')) ?  $manufacturer : false,
								'price' => $price,
								'special' => ($this->config->get('config_ajaxadvancedsearch_price')) ? $result['special'] != 0.0000 ?  $this->currency->format($this->tax->calculate($result['special'], $result['tax_class_id'], $this->config->get('config_tax'))) : 0 : false,
								'rating' => ($this->config->get('config_ajaxadvancedsearch_rating')) ? $result['rating'] : false,
								'reviews' => $result['reviews'],
								'allresults' =>false,
							);							
						}
						$this->load->language('common/header');
						if($this->config->get('config_ajaxadvancedsearch_displayallresults')){
							$json[] = array(
								'product_id' => 0,
								'name' => $this->language->get('ajaxadvancedsearch_allresults'),
								// seo friendly starts
								'url' => '',
								// seo friendly ends
								'name1' =>$this->language->get('ajaxadvancedsearch_allresults'),
								'model' => false ,
								'stock_status' => false,
								'quantity' =>  false,
								'image' => false,
								'manufacturer' => false,
								'price' => false,
								'special' => false,
								'rating' => false,
								'reviews' => false,
								'allresults' => true,
							);
						}
					}
					$this->response->addHeader('Content-Type: application/json');
					$this->response->setOutput(json_encode($json));
				}
				/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
	</file>
	<file name="catalog/view/theme/*/template/common/header.tpl">
		<operation error="log">
			<search position="before"><![CDATA[
				<div id="notification"></div>
			]]></search>
			<add><![CDATA[
				<?php if($ajaxadvancesearch_status){ ?>
				<!--
				/**
					*Ajax advanced search starts
					*/
				-->
				<script type="text/javascript" language="javascript"><!--
					// Ajax advanced search starts
					$(document).ready(function(){
						var allRequest = null;
						var afaxAdvancedSearch = $('#search input[name="search"]');
						afaxAdvancedSearch.autocomplete({
							delay: 500,
							source: function(request, response) {
								if(request.term.trim().length >= <?php echo $ajaxadvancesearch_charlimit ?>) {
								allRequest = request;
									$.ajax({
										url: 'index.php?route=common/header/ajaxLiveSearch&filter_name=' +  encodeURIComponent(request.term.split('')),
										dataType: 'json',
										success: function(json) {
											response($.map(json, function(item) {
												return {
													label: item.name,
													name: item.name1,
													value: item.product_id,
													model: item.model,
													stock_status: item.stock_status,
													/** 26-01-2015 starts */
													quantity: item.quantity,
													/** 26-01-2015 ends */
													// seo friendly starts
													url: item.url,
													// seo friendly ends
													image: item.image,
													manufacturer: item.manufacturer,
													price: item.price,
													special: item.special,
													category: item.category,
													rating: item.rating,
													allresults: item.allresults,
													reviews: item.reviews,
												}
											}));
										}
									});
								}	
							}, 
							select: function(event, ui) {								
								if(ui.item.value!=0){
									//location = 'index.php?route=product/product/&product_id='+ui.item.value;
									location = ui.item.url.replace('&amp;','&');
								}else{
									$('.button-search').trigger('click');
								}
								return false;
							},
							focus: function(event, ui) {
								return false;
							},							
						}).data("autocomplete")._renderItem = function(ul, item){
								var html = '<div class="ajaxadvance" id="ajaxadvance'+item.value+'">';
										html += '<div class="image">';
										if(item.image){
										html += '<img title="'+item.name+'" src="'+item.image+'"/>';
										}
										html += '</div>';
										html += '<div class="content">';
										html += 	'<h3 class="name">'+item.label+'</h3>';
										if(item.model){
										html += 	'<div class="model">';
										html +=		'<?php echo $ajaxadvancedsearch_model; ?> '+ item.model;
										html +=		'</div>';
										}
										if(item.manufacturer){
										html += 	'<div class="manufacturer">';
										html +=		'<?php echo $ajaxadvancedsearch_manufacturer; ?> '+ item.manufacturer;			
										html +=		'</div>';		
										}
										if(item.price){
										html += 	'<div class="price"> <?php echo $ajaxadvancedsearch_price; ?> ';
											if (!item.special) { 
										html +=			 item.price;
											} else {	
										html +=			'<span class="price-old">'+ item.price +'</span> <span class="price-new">'+ item.special +'</span>';
											}	
										html +=		'</div>';
										}
										if(item.stock_status){
										html += 	'<div class="stock_status">';
										html +=		'<?php echo $ajaxadvancedsearch_stock; ?> '+ item.stock_status;			
										html +=		'</div>';
										}
										if(item.quantity){
										html += 	'<div class="quantity">';
										html +=		'<?php echo $ajaxadvancedsearch_quantity; ?> '+ item.quantity;
										html +=		'</div>';
										}
										if (item.rating) {
										html +=		'<div class="rating"> <?php echo $ajaxadvancedsearch_rating; ?> <img src="catalog/view/theme/default/image/stars-'+ item.rating+ '.png" alt="'+ item. reviews +'" /></div>';
										}										
										if (item.allresults) {
										html +=		'<div class="allresults">'+allRequest.term.trim()+'</div>';
										}
										html +='</div>';
								html += '</div>';
								return $('<li></li>')
									 .data('item.autocomplete', item)
									 .append('<a>' + html + '</a>')
									 .appendTo(ul);
						};
					});
					//Ajax advanced search ends
				//--></script>
				<style>
				.ui-menu {z-index: 1050 !important; background: #fff; }
				.ui-menu li:nth-child(even){background: #FFFFFF;  border: 1px solid #dbdee1;}
				.ui-menu li:nth-child(odd){background: #E4EEF7;  border: 1px solid #fff;}
				.ui-menu li, .ui-menu .ui-menu-item { margin-bottom: 10px;}
				.ui-menu a {border-radius: 0 ;}
				.ui-menu li:nth-child(even){background: #<?php echo !empty($ajaxadvancedsearch_color_evenresult) ? $ajaxadvancedsearch_color_evenresult : 'FFFFFF';?>;  border: 1px solid #dbdee1;}
				.ui-menu li:nth-child(odd){background: #<?php echo !empty($ajaxadvancedsearch_color_oddresult) ? $ajaxadvancedsearch_color_oddresult : 'E4EEF7'; ?>;  border: 1px solid #fff;}
				/*<!-- 26-01-2014 starts -->*/
				<?php if($ajaxadvancedsearch_result_view!='default-view') { ?>
					.ui-menu li:nth-child(even){background: #<?php echo !empty($ajaxadvancedsearch_color_evenresult) ? $ajaxadvancedsearch_color_evenresult : 'FFFFFF';?>;  border: none; padding: 1px; /*padding:0 10px;*/ }
					.ui-menu li:nth-child(odd){background: #<?php echo !empty($ajaxadvancedsearch_color_oddresult) ? $ajaxadvancedsearch_color_oddresult : 'FFFFFF'; ?>;  border: none; padding: 1px; /*padding:0 10px;*/ }
					/**1.5.6 changes starts*/
					.ui-menu .ui-menu-item a{ border: none; }
					.ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus { background: none;}
					.ui-menu .ui-menu-item a.ui-state-hover,.ui-menu .ui-menu-item a.ui-state-active{ margin:0; }
					 /**1.5.6 changes ends*/
					.ui-menu .ui-menu-item a { border-bottom: 1px solid #cdcece; border-radius: 0; white-space: normal; }
					.ui-menu li:last-child a { border-bottom: none; }
					 
				<?php } ?>
				/** result area hover starts */
				<?php if(!empty($ajaxadvancedsearch_color_resulthover)) { ?>
				.ui-menu > li > a:hover, .ui-menu li:hover {
					background: #<?php echo $ajaxadvancedsearch_color_resulthover; ?>;
				}
				<?php } ?>
				/** result area hover ends */
				/** result area heading starts */
				<?php if(!empty($ajaxadvancedsearch_color_heading)) { ?>
				/** for heading color */
				.ui-menu li a .ajaxadvance h3,
				.ui-menu li a .ajaxadvance h4
				{ color: #<?php echo $ajaxadvancedsearch_color_heading; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_headinghover)) { ?>
				/**for heading color on hover*/
				.ui-menu li a:hover .ajaxadvance h3,
				.ui-menu li a:hover .ajaxadvance h4
				{ color: #<?php echo $ajaxadvancedsearch_color_headinghover; ?>; }
				<?php } ?>
				/** result area heading ends */
				/** result area model starts */
				<?php if(!empty($ajaxadvancedsearch_color_model)) { ?>
				/** for model color */
				.ui-menu li a .ajaxadvance .model,
				.ui-menu li a .ajaxadvance .model
				{ color: #<?php echo $ajaxadvancedsearch_color_model; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_modelhover)) { ?>
				/**for model color on hover*/
				.ui-menu li a:hover .ajaxadvance .model,
				.ui-menu li a:hover .ajaxadvance .model
				{ color: #<?php echo $ajaxadvancedsearch_color_modelhover; ?>; }
				<?php } ?>
				/** result area model ends */
				/** result area manufacturer starts */
				<?php if(!empty($ajaxadvancedsearch_color_manufacturer)) { ?>
				/** for manufacturer color */
				.ui-menu li a .ajaxadvance .manufacturer,
				.ui-menu li a .ajaxadvance .manufacturer
				{ color: #<?php echo $ajaxadvancedsearch_color_manufacturer; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_manufacturerhover)) { ?>
				/**for manufacturer color on hover*/
				.ui-menu li a:hover .ajaxadvance .manufacturer,
				.ui-menu li a:hover .ajaxadvance .manufacturer
				{ color: #<?php echo $ajaxadvancedsearch_color_manufacturerhover; ?>; }
				<?php } ?>
				/** result area manufacturer ends */
				/** result area price starts */
				<?php if(!empty($ajaxadvancedsearch_color_price)) { ?>
				/** for price color */
				.ui-menu li a .ajaxadvance .price,
				.ui-menu li a .ajaxadvance .price
				{ color: #<?php echo $ajaxadvancedsearch_color_price; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_pricehover)) { ?>
				/**for price color on hover*/
				.ui-menu li a:hover .ajaxadvance .price,
				.ui-menu li a:hover .ajaxadvance .price
				{ color: #<?php echo $ajaxadvancedsearch_color_pricehover; ?>; }
				<?php } ?>
				/** result area price ends */
				/** result area stockstatus starts */
				<?php if(!empty($ajaxadvancedsearch_color_stockstatus)) { ?>
				/** for stock_status color */
				.ui-menu li a .ajaxadvance .stock_status,
				.ui-menu li a .ajaxadvance .stock_status
				{ color: #<?php echo $ajaxadvancedsearch_color_stockstatus; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_stockstatushover)) { ?>
				/**for stock_status color on hover*/
				.ui-menu li a:hover .ajaxadvance .stock_status,
				.ui-menu li a:hover .ajaxadvance .stock_status
				{ color: #<?php echo $ajaxadvancedsearch_color_stockstatushover; ?>; }
				<?php } ?>
				/** result area stockstatus ends */
				/** result area quantity starts */
				<?php if(!empty($ajaxadvancedsearch_color_quantity)) { ?>
				/** for quantity color */
				.ui-menu li a .ajaxadvance .quantity,
				.ui-menu li a .ajaxadvance .quantity
				{ color: #<?php echo $ajaxadvancedsearch_color_quantity; ?>; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_quantityhover)) { ?>
				/**for quantity color on hover*/
				.ui-menu li a:hover .ajaxadvance .quantity,
				.ui-menu li a:hover .ajaxadvance .quantity
				{ color: #<?php echo $ajaxadvancedsearch_color_quantityhover; ?>; }
				<?php } ?>
				/** result area quantity ends */
				/** result area highlight starts */
				<?php if(!empty($ajaxadvancedsearch_color_highlight)) { ?>
				/** for highlight color */
				.ui-menu li a .ajaxadvance .highlight,
				.ui-menu li a .ajaxadvance .highlight
				{ color: #<?php echo $ajaxadvancedsearch_color_highlight; ?>; }
				<?php }else{ ?>
				.ui-menu li a .ajaxadvance .highlight {color: #38b0e3; }
				<?php } ?>
				<?php if(!empty($ajaxadvancedsearch_color_highlighthover)) { ?>
				/**for highlight color on hover*/
				.ui-menu li.ui-menu-item a:hover .ajaxadvance .highlight,
				.ui-menu li.ui-menu-item a:hover .ajaxadvance .highlight
				{ color: #<?php echo $ajaxadvancedsearch_color_highlighthover; ?>; }
				<?php }else{ ?>
				.ui-menu li.ui-menu-item a:hover .ajaxadvance .highlight {color: #38b0e3; }
				<?php } ?>
				/** result area highlight ends */

				/*<!-- 26-01-2014 ends -->*/
				.ajaxadvance { display:inline-flex; }
				.ajaxadvance .name { margin:0; font-size: 1em; }
				.ajaxadvance .image { display:inline-block; float: left;	margin-right:10px; width: <?php echo $ajaxadvancesearch_imagewidth;?>px;}
				.ajaxadvance .content { display:inline-block; max-width: 300px;}
				.ajaxadvance .content > div { margin-top:5px;	}
				.ajaxadvance .price-old {color: #ff0000; text-decoration: line-through; }
				
				</style>
				<!--
				/**
					*Ajax advanced search ends
					*/
				-->
				<?php } ?>
			]]></add>
		</operation>
	</file>
	<!--Catalog ends-->
	<!--Admin starts-->
	<file name="admin/language/*/setting/setting.php">
		<operation error="log">
			<search position="after"><![CDATA[
				$_['heading_title']
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
				$_['tab_ajaxadvancedsearch'] = 'Ajax Advanced Search';
				$_['text_ajaxadvancedsearch'] = 'Ajax Advanced Search';
				$_['text_display_image'] = 'Show image in result ';
				$_['text_ajaxadvancedsearch_limit'] = 'Limit result to show';

				$_['help_ajaxadvancedsearch_limit'] = '<br/><span class="help">Default limit is 5</span>';
				$_['help_ajaxadvancedsearch_charlimit'] = '<br/><span class="help">Leave empty to begin search when user start type. if you set value 2 then search result will show when user type exactly 2 characters in search box.</span>';
				$_['text_imagesize'] = 'Image size in Width X Height (50 X 50)';
				$_['help_imagesize'] = '<br/><span class="help">Default image width height is 100 X 100</span>';
				$_['text_display_model'] = 'Show model in result';
				$_['text_display_manufacturer'] = 'Show manufacturer in result';
				$_['text_display_price'] = 'Show price in result';
				/**Customer groups show price starts*/
				$_['text_login_display_price'] = 'Login Display Prices';
				$_['help_login_display_price'] = '<br/><span class="help">Only show prices when a customer is logged in.<br/>Works when Show price in result is set Yes</span>';
				$_['text_display_price_customergroups'] = 'Customer groups';
				$_['help_display_price_customergroups'] = '<br/><span class="help">Customer groups that customer can see price after login.<br/>Works when Show price in result is set Yes And Login Display Prices is set Yes</span>';
				/**Customer groups show price ends*/
				$_['text_display_rating'] = 'Show rating in result';
				$_['text_display_stock'] = 'Show stock status in result';
				$_['text_search_model'] = 'Search model for result';
				$_['text_search_tag'] = 'Search tag for result';
				$_['text_search_mpn'] = 'Search mpn for result';
				$_['text_search_manufacturer'] = 'Search manufacturer for result';
				$_['text_search_isbn'] = 'Search isbn for result';
				$_['text_search_jan'] = 'Search jan for result';
				$_['text_search_ean'] = 'Search ean for result';
				$_['text_search_upc'] = 'Search upc for result';
				$_['text_search_sku'] = 'Search sku for result';
				$_['text_highlight'] = 'Hightlight Search keywords';
				$_['text_highlight_sepeate'] = 'Seperate';
				$_['text_highlight_combine'] = 'Combine';
				$_['text_highlight_no'] = 'No Hightlight';
				$_['text_imagewidth'] = 'Width: &nbsp;';
				$_['text_imageheight'] = 'Height: &nbsp;';
				$_['error_config_ajaxadvancedsearch_image'] = 'Please keep height width between %s and %s .';
				/** 26-01-2014 starts */
				$_['text_colorheading'] = 'Set color for heading (Product name)';
				$_['text_colorheadinghover'] = 'Set color for on hover heading (Product name)';
				$_['text_colormodel'] = 'Set color for (Product model)';
				$_['text_colormodelhover'] = 'Set color for on hover (Product model)';
				$_['text_colormanufacturer'] = 'Set color for (Product manufacturer)';
				$_['text_colormanufacturerhover'] = 'Set color for on hover (Product manufacturer)';
				$_['text_colorprice'] = 'Set color for (Product price)';
				$_['text_colorpricehover'] = 'Set color for on hover (Product price)';
				$_['text_colorstockstatus'] = 'Set color for (Product stock status)';
				$_['text_colorstockstatushover'] = 'Set color for on hover (Product stock status)';
				$_['text_colorquantity'] = 'Set color for (Product stock quantity)';
				$_['text_colorquantityhover'] = 'Set color for on hover (Product stock quantity)';
				$_['text_colorresult'] = 'Set color for result area';
				$_['text_colorresulthover'] = 'Set color for on hover result area';
				$_['text_colorresultodd'] = 'Odd result';
				$_['text_colorresulteven'] = 'Even result';

				$_['text_colordefaultall'] = 'Use default color for all';
				$_['help_colordefaultall'] = '<br/><span class="help">If this option set yes then another options will not be use except hightlight keywords and search result area. if default colors are empty then default colors will be use by current theme.</span>';
				$_['text_colorenabletall'] = 'Use colors';
				$_['help_colorenableall'] = '<br/><span class="help">If this option set yes defined colors will be used otherwise default theme colors will be used. This option also effect on highlight keywords</span>';
				$_['text_colordefault'] = 'Set default color for all except result area';
				$_['text_colordefaulthover'] = 'Set default color for all on hover except result area';
				$_['help_colorpicker'] = '<br/><span class="help">If no color value set then default colors will be use by current theme.</span>';
				$_['text_ajaxadvancedsearch_charlimit'] = 'Minimun character for display result';
				$_['text_display_quantity'] = 'Show quantity in result';

				$_['text_display_query'] = 'Show all results';
				$_['help_display_query'] = '<br/><span class="help">This will show keywords enter by user and heading title (All results)</span>';
				$_['text_result_view'] = 'Set result output view';
				$_['text_result_viewborder'] = 'Default border';
				$_['text_result_viewbottom'] = 'Only border bottom';
				$_['text_colorhighlight'] = 'Set color for hightlight keywords';
				$_['text_colorhighlighthover'] = 'Set color for on hover hightlight keywords';

				$_['tab_ajaxadvancedsearchgeneral'] = 'General';
				$_['tab_ajaxadvancedsearchsearch'] = 'Search';
				$_['tab_ajaxadvancedsearchshow'] = 'Show';
				$_['tab_ajaxadvancedsearchcolors'] = 'Colors';
				/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
	</file>
	<file name="admin/controller/setting/setting.php">
		<operation error="log">
			<search position="before"><![CDATA[
				if (!$this->request->post['config_name']) {
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
				if (($this->request->post['config_ajaxadvancedsearch_image_width'] < 25 || $this->request->post['config_ajaxadvancedsearch_image_width'] > 100) || ($this->request->post['config_ajaxadvancedsearch_image_height'] < 25 || $this->request->post['config_ajaxadvancedsearch_image_height'] > 100)) {
					$this->error['config_ajaxadvancedsearch_image'] = sprintf( $this->language->get('error_config_ajaxadvancedsearch_image'),25,100);
				}			
				/**
				*Ajax advanced search ends
				*/
			]]></add>
		</operation>
		<operation error="log">
			<search position="after"><![CDATA[
				$this->data['tab_server']
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
				$this->data['tab_ajaxadvancedsearch'] = $this->language->get('tab_ajaxadvancedsearch');
				$this->data['text_ajaxadvancedsearch'] = $this->language->get('text_ajaxadvancedsearch');
				$this->data['text_display_image'] = $this->language->get('text_display_image');
				$this->data['text_ajaxadvancedsearch_limit'] = $this->language->get('text_ajaxadvancedsearch_limit');
				$this->data['help_ajaxadvancedsearch_limit'] = $this->language->get('help_ajaxadvancedsearch_limit');
				$this->data['help_ajaxadvancedsearch_charlimit'] = $this->language->get('help_ajaxadvancedsearch_charlimit');
				$this->data['text_display_model'] = $this->language->get('text_display_model');
				$this->data['text_display_manufacturer'] = $this->language->get('text_display_manufacturer');
				$this->data['text_display_price'] = $this->language->get('text_display_price');
				/**Customer group price show starts*/
				$this->data['text_display_price_customergroups'] = $this->language->get('text_display_price_customergroups');
				$this->data['help_display_price_customergroups'] = $this->language->get('help_display_price_customergroups');
				$this->data['text_login_display_price'] = $this->language->get('text_login_display_price');				
				$this->data['help_login_display_price'] = $this->language->get('help_login_display_price');				
				/**Customer group price show ends*/
				$this->data['text_display_rating'] = $this->language->get('text_display_rating');
				$this->data['text_display_stock'] = $this->language->get('text_display_stock');
				$this->data['text_search_model'] = $this->language->get('text_search_model');
				$this->data['text_search_tag'] = $this->language->get('text_search_tag');
				$this->data['text_search_mpn'] = $this->language->get('text_search_mpn');
				$this->data['text_search_manufacturer'] = $this->language->get('text_search_manufacturer');
				$this->data['text_search_isbn'] = $this->language->get('text_search_isbn');
				$this->data['text_search_jan'] = $this->language->get('text_search_jan');
				$this->data['text_search_ean'] = $this->language->get('text_search_ean');
				$this->data['text_search_upc'] = $this->language->get('text_search_upc');
				$this->data['text_search_sku'] = $this->language->get('text_search_sku');
				$this->data['text_highlight'] = $this->language->get('text_highlight');
				$this->data['text_highlight_sepeate'] = $this->language->get('text_highlight_sepeate');
				$this->data['text_highlight_combine'] = $this->language->get('text_highlight_combine');
				$this->data['text_highlight_no'] = $this->language->get('text_highlight_no');
				$this->data['text_enabled'] = $this->language->get('text_enabled');
				$this->data['text_disabled'] = $this->language->get('text_disabled');
				$this->data['text_imagesize'] = $this->language->get('text_imagesize');
				$this->data['help_imagesize'] = $this->language->get('help_imagesize');
				/** 26-01-2014 starts */
				$this->data['help_colorpicker'] = $this->language->get('help_colorpicker');
				$this->data['text_colorheading'] = $this->language->get('text_colorheading');
				$this->data['text_colorheadinghover'] = $this->language->get('text_colorheadinghover');
				$this->data['text_colormodel'] = $this->language->get('text_colormodel');
				$this->data['text_colormodelhover'] = $this->language->get('text_colormodelhover');
				$this->data['text_colormanufacturer'] = $this->language->get('text_colormanufacturer');
				$this->data['text_colormanufacturerhover'] = $this->language->get('text_colormanufacturerhover');
				$this->data['text_colorprice'] = $this->language->get('text_colorprice');
				$this->data['text_colorpricehover'] = $this->language->get('text_colorpricehover');
				$this->data['text_colorstockstatus'] = $this->language->get('text_colorstockstatus');
				$this->data['text_colorstockstatushover'] = $this->language->get('text_colorstockstatushover');
				$this->data['text_colorquantity'] = $this->language->get('text_colorquantity');
				$this->data['text_colorquantityhover'] = $this->language->get('text_colorquantityhover');
				$this->data['text_colorresult'] = $this->language->get('text_colorresult');
				$this->data['text_colorresulthover'] = $this->language->get('text_colorresulthover');
				$this->data['text_colorresultodd'] = $this->language->get('text_colorresultodd');
				$this->data['text_colorresulteven'] = $this->language->get('text_colorresulteven');
				$this->data['text_colordefaultall'] = $this->language->get('text_colordefaultall');
				$this->data['help_colordefaultall'] = $this->language->get('help_colordefaultall');
				$this->data['text_colorenabletall'] = $this->language->get('text_colorenabletall');
				$this->data['help_colorenableall'] = $this->language->get('help_colorenableall');
				$this->data['text_colordefault'] = $this->language->get('text_colordefault');
				$this->data['text_colordefaulthover'] = $this->language->get('text_colordefaulthover');
				$this->data['text_display_quantity'] = $this->language->get('text_display_quantity');
				$this->data['text_ajaxadvancedsearch_charlimit'] = $this->language->get('text_ajaxadvancedsearch_charlimit');
				$this->data['text_display_query'] = $this->language->get('text_display_query');
				$this->data['help_display_query'] = $this->language->get('help_display_query');
				$this->data['text_result_view'] = $this->language->get('text_result_view');
				$this->data['text_result_viewborder'] = $this->language->get('text_result_viewborder');
				$this->data['text_result_viewbottom'] = $this->language->get('text_result_viewbottom');
				$this->data['text_colorhighlight'] = $this->language->get('text_colorhighlight');
				$this->data['text_colorhighlighthover'] = $this->language->get('text_colorhighlighthover');
				$this->data['tab_ajaxadvancedsearchgeneral'] = $this->language->get('tab_ajaxadvancedsearchgeneral');
				$this->data['tab_ajaxadvancedsearchsearch'] = $this->language->get('tab_ajaxadvancedsearchsearch');
				$this->data['tab_ajaxadvancedsearchshow'] = $this->language->get('tab_ajaxadvancedsearchshow');
				$this->data['tab_ajaxadvancedsearchcolors'] = $this->language->get('tab_ajaxadvancedsearchcolors');
				/** 26-01-2014 ends */
				$this->data['text_imagewidth'] = $this->language->get('text_imagewidth');
				$this->data['text_imageheight'] = $this->language->get('text_imageheight');
				if (isset($this->error['config_ajaxadvancedsearch_image'])) {
					$this->data['error_config_ajaxadvancedsearch_image'] = $this->error['config_ajaxadvancedsearch_image'];
				} else {
					$this->data['error_config_ajaxadvancedsearch_image'] = '';
				}
				/** customer group price show starts */
				$this->data['ajaxadvance_customergroups']=array();
				$this->load->model('sale/customer_group');
				$this->data['ajaxadvance_customergroups'] = $this->model_sale_customer_group->getCustomerGroups();
				/** customer group price show ends */
				/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
		<operation error="log">
		<search position="before"><![CDATA[
				if (isset($this->request->post['config_google_analytics'])) {
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
					if (isset($this->request->post['config_ajaxadvancedsearch'])) {
						$this->data['config_ajaxadvancedsearch'] = $this->request->post['config_ajaxadvancedsearch'];
					} else {
						$this->data['config_ajaxadvancedsearch'] = $this->config->get('config_ajaxadvancedsearch');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_limit'])) {
						$this->data['config_ajaxadvancedsearch_limit'] = $this->request->post['config_ajaxadvancedsearch_limit'];
					} else {
						$this->data['config_ajaxadvancedsearch_limit'] = $this->config->get('config_ajaxadvancedsearch_limit');
					}

					if (isset($this->request->post['config_ajaxadvancedsearch_image'])) {
						$this->data['config_ajaxadvancedsearch_image'] = $this->request->post['config_ajaxadvancedsearch_image'];
					} else {
						$this->data['config_ajaxadvancedsearch_image'] = $this->config->get('config_ajaxadvancedsearch_image');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_image_width'])) {
						$this->data['config_ajaxadvancedsearch_image_width'] = $this->request->post['config_ajaxadvancedsearch_image_width'];
					} else {
						$this->data['config_ajaxadvancedsearch_image_width'] = $this->config->get('config_ajaxadvancedsearch_image_width');
					}
					/**26-01-2015 starts*/
					if (isset($this->request->post['config_ajaxadvancedsearch_result_view'])) {
						$this->data['config_ajaxadvancedsearch_result_view'] = $this->request->post['config_ajaxadvancedsearch_result_view'];
					} else {
						$this->data['config_ajaxadvancedsearch_result_view'] = $this->config->get('config_ajaxadvancedsearch_result_view');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_displayallresults'])) {
						$this->data['config_ajaxadvancedsearch_displayallresults'] = $this->request->post['config_ajaxadvancedsearch_displayallresults'];
					} else {
						$this->data['config_ajaxadvancedsearch_displayallresults'] = $this->config->get('config_ajaxadvancedsearch_displayallresults');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_colorenabletall'])) {
						$this->data['config_ajaxadvancedsearch_colorenabletall'] = $this->request->post['config_ajaxadvancedsearch_colorenabletall'];
					} else {
						$this->data['config_ajaxadvancedsearch_colorenabletall'] = $this->config->get('config_ajaxadvancedsearch_colorenabletall');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_colordefaultall'])) {
						$this->data['config_ajaxadvancedsearch_colordefaultall'] = $this->request->post['config_ajaxadvancedsearch_colordefaultall'];
					} else {
						$this->data['config_ajaxadvancedsearch_colordefaultall'] = $this->config->get('config_ajaxadvancedsearch_colordefaultall');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_default'])) {
						$this->data['config_ajaxadvancedsearch_color_default'] = $this->request->post['config_ajaxadvancedsearch_color_default'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_default'] = $this->config->get('config_ajaxadvancedsearch_color_default');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_defaulthover'])) {
						$this->data['config_ajaxadvancedsearch_color_defaulthover'] = $this->request->post['config_ajaxadvancedsearch_color_defaulthover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_defaulthover'] = $this->config->get('config_ajaxadvancedsearch_color_defaulthover');
					}

					if (isset($this->request->post['config_ajaxadvancedsearch_color_heading'])) {
						$this->data['config_ajaxadvancedsearch_color_heading'] = $this->request->post['config_ajaxadvancedsearch_color_heading'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_heading'] = $this->config->get('config_ajaxadvancedsearch_color_heading');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_headinghover'])) {
						$this->data['config_ajaxadvancedsearch_color_headinghover'] = $this->request->post['config_ajaxadvancedsearch_color_headinghover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_headinghover'] = $this->config->get('config_ajaxadvancedsearch_color_headinghover');
					}

					if (isset($this->request->post['config_ajaxadvancedsearch_color_model'])) {
						$this->data['config_ajaxadvancedsearch_color_model'] = $this->request->post['config_ajaxadvancedsearch_color_model'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_model'] = $this->config->get('config_ajaxadvancedsearch_color_model');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_modelhover'])) {
						$this->data['config_ajaxadvancedsearch_color_modelhover'] = $this->request->post['config_ajaxadvancedsearch_color_modelhover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_modelhover'] = $this->config->get('config_ajaxadvancedsearch_color_modelhover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_manufacturer'])) {
						$this->data['config_ajaxadvancedsearch_color_manufacturer'] = $this->request->post['config_ajaxadvancedsearch_color_manufacturer'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_manufacturer'] = $this->config->get('config_ajaxadvancedsearch_color_manufacturer');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_manufacturerhover'])) {
						$this->data['config_ajaxadvancedsearch_color_manufacturerhover'] = $this->request->post['config_ajaxadvancedsearch_color_manufacturerhover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_manufacturerhover'] = $this->config->get('config_ajaxadvancedsearch_color_manufacturerhover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_price'])) {
						$this->data['config_ajaxadvancedsearch_color_price'] = $this->request->post['config_ajaxadvancedsearch_color_price'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_price'] = $this->config->get('config_ajaxadvancedsearch_color_price');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_pricehover'])) {
						$this->data['config_ajaxadvancedsearch_color_pricehover'] = $this->request->post['config_ajaxadvancedsearch_color_pricehover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_pricehover'] = $this->config->get('config_ajaxadvancedsearch_color_pricehover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_stockstatus'])) {
						$this->data['config_ajaxadvancedsearch_color_stockstatus'] = $this->request->post['config_ajaxadvancedsearch_color_stockstatus'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_stockstatus'] = $this->config->get('config_ajaxadvancedsearch_color_stockstatus');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_stockstatushover'])) {
						$this->data['config_ajaxadvancedsearch_color_stockstatushover'] = $this->request->post['config_ajaxadvancedsearch_color_stockstatushover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_stockstatushover'] = $this->config->get('config_ajaxadvancedsearch_color_stockstatushover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_quantity'])) {
						$this->data['config_ajaxadvancedsearch_color_quantity'] = $this->request->post['config_ajaxadvancedsearch_color_quantity'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_quantity'] = $this->config->get('config_ajaxadvancedsearch_color_quantity');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_quantityhover'])) {
						$this->data['config_ajaxadvancedsearch_color_quantityhover'] = $this->request->post['config_ajaxadvancedsearch_color_quantityhover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_quantityhover'] = $this->config->get('config_ajaxadvancedsearch_color_quantityhover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_evenresult'])) {
						$this->data['config_ajaxadvancedsearch_color_evenresult'] = $this->request->post['config_ajaxadvancedsearch_color_evenresult'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_evenresult'] = $this->config->get('config_ajaxadvancedsearch_color_evenresult');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_oddresult'])) {
						$this->data['config_ajaxadvancedsearch_color_oddresult'] = $this->request->post['config_ajaxadvancedsearch_color_oddresult'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_oddresult'] = $this->config->get('config_ajaxadvancedsearch_color_oddresult');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_resulthover'])) {
						$this->data['config_ajaxadvancedsearch_color_resulthover'] = $this->request->post['config_ajaxadvancedsearch_color_resulthover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_resulthover'] = $this->config->get('config_ajaxadvancedsearch_color_resulthover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_highlight'])) {
						$this->data['config_ajaxadvancedsearch_color_highlight'] = $this->request->post['config_ajaxadvancedsearch_color_highlight'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_highlight'] = $this->config->get('config_ajaxadvancedsearch_color_highlight');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_color_highlighthover'])) {
						$this->data['config_ajaxadvancedsearch_color_highlighthover'] = $this->request->post['config_ajaxadvancedsearch_color_highlighthover'];
					} else {
						$this->data['config_ajaxadvancedsearch_color_highlighthover'] = $this->config->get('config_ajaxadvancedsearch_color_highlighthover');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_quantity'])) {
						$this->data['config_ajaxadvancedsearch_quantity'] = $this->request->post['config_ajaxadvancedsearch_quantity'];
					} else {
						$this->data['config_ajaxadvancedsearch_quantity'] = $this->config->get('config_ajaxadvancedsearch_quantity');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_charlimit'])) {
						$this->data['config_ajaxadvancedsearch_charlimit'] = $this->request->post['config_ajaxadvancedsearch_charlimit'];
					} else {
						$this->data['config_ajaxadvancedsearch_charlimit'] = $this->config->get('config_ajaxadvancedsearch_charlimit');
					}

					/** 26-01-2015 ends */
					if (isset($this->request->post['config_ajaxadvancedsearch_image_height'])) {
						$this->data['config_ajaxadvancedsearch_image_height'] = $this->request->post['config_ajaxadvancedsearch_image_height'];
					} else {
						$this->data['config_ajaxadvancedsearch_image_height'] = $this->config->get('config_ajaxadvancedsearch_image_height');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_model'])) {
						$this->data['config_ajaxadvancedsearch_model'] = $this->request->post['config_ajaxadvancedsearch_model'];
					} else {
						$this->data['config_ajaxadvancedsearch_model'] = $this->config->get('config_ajaxadvancedsearch_model');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_manufacturer'])) {
						$this->data['config_ajaxadvancedsearch_manufacturer'] = $this->request->post['config_ajaxadvancedsearch_manufacturer'];
					} else {
						$this->data['config_ajaxadvancedsearch_manufacturer'] = $this->config->get('config_ajaxadvancedsearch_manufacturer');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_price'])) {
						$this->data['config_ajaxadvancedsearch_price'] = $this->request->post['config_ajaxadvancedsearch_price'];
					} else {
						$this->data['config_ajaxadvancedsearch_price'] = $this->config->get('config_ajaxadvancedsearch_price');
					}
					/**Cusomer group price show starts*/
					if (isset($this->request->post['config_ajaxadvancedsearch_pricelogin'])) {
						$this->data['config_ajaxadvancedsearch_pricelogin'] = $this->request->post['config_ajaxadvancedsearch_pricelogin'];
					} else {
						$this->data['config_ajaxadvancedsearch_pricelogin'] = $this->config->get('config_ajaxadvancedsearch_pricelogin');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_customergroups'])) {
						$this->data['config_ajaxadvancedsearch_customergroups'] = $this->request->post['config_ajaxadvancedsearch_customergroups'];
					} else if(!is_null($this->config->get('config_ajaxadvancedsearch_customergroups'))) {
						$this->data['config_ajaxadvancedsearch_customergroups'] = $this->config->get('config_ajaxadvancedsearch_customergroups');
					}else {
						$this->data['config_ajaxadvancedsearch_customergroups'] = array();
					}
					/**Cusomer group price show ends*/
					
					if (isset($this->request->post['config_ajaxadvancedsearch_rating'])) {
						$this->data['config_ajaxadvancedsearch_rating'] = $this->request->post['config_ajaxadvancedsearch_rating'];
					} else {
						$this->data['config_ajaxadvancedsearch_rating'] = $this->config->get('config_ajaxadvancedsearch_rating');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_stock'])) {
						$this->data['config_ajaxadvancedsearch_stock'] = $this->request->post['config_ajaxadvancedsearch_stock'];
					} else {
						$this->data['config_ajaxadvancedsearch_stock'] = $this->config->get('config_ajaxadvancedsearch_stock');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_model_search'])) {
						$this->data['config_ajaxadvancedsearch_model_search'] = $this->request->post['config_ajaxadvancedsearch_model_search'];
					} else {
						$this->data['config_ajaxadvancedsearch_model_search'] = $this->config->get('config_ajaxadvancedsearch_model_search');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_tag'])) {
						$this->data['config_ajaxadvancedsearch_tag'] = $this->request->post['config_ajaxadvancedsearch_tag'];
					} else {
						$this->data['config_ajaxadvancedsearch_tag'] = $this->config->get('config_ajaxadvancedsearch_tag');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_mpn'])) {
						$this->data['config_ajaxadvancedsearch_mpn'] = $this->request->post['config_ajaxadvancedsearch_mpn'];
					} else {
						$this->data['config_ajaxadvancedsearch_mpn'] = $this->config->get('config_ajaxadvancedsearch_mpn');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_manufacturer_search'])) {
						$this->data['config_ajaxadvancedsearch_manufacturer_search'] = $this->request->post['config_ajaxadvancedsearch_manufacturer_search'];
					} else {
						$this->data['config_ajaxadvancedsearch_manufacturer_search'] = $this->config->get('config_ajaxadvancedsearch_manufacturer_search');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_isbn'])) {
						$this->data['config_ajaxadvancedsearch_isbn'] = $this->request->post['config_ajaxadvancedsearch_isbn'];
					} else {
						$this->data['config_ajaxadvancedsearch_isbn'] = $this->config->get('config_ajaxadvancedsearch_isbn');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_jan'])) {
						$this->data['config_ajaxadvancedsearch_jan'] = $this->request->post['config_ajaxadvancedsearch_jan'];
					} else {
						$this->data['config_ajaxadvancedsearch_jan'] = $this->config->get('config_ajaxadvancedsearch_jan');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_ean'])) {
						$this->data['config_ajaxadvancedsearch_ean'] = $this->request->post['config_ajaxadvancedsearch_ean'];
					} else {
						$this->data['config_ajaxadvancedsearch_ean'] = $this->config->get('config_ajaxadvancedsearch_ean');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_upc'])) {
						$this->data['config_ajaxadvancedsearch_upc'] = $this->request->post['config_ajaxadvancedsearch_upc'];
					} else {
						$this->data['config_ajaxadvancedsearch_upc'] = $this->config->get('config_ajaxadvancedsearch_upc');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_sku'])) {
						$this->data['config_ajaxadvancedsearch_sku'] = $this->request->post['config_ajaxadvancedsearch_sku'];
					} else {
						$this->data['config_ajaxadvancedsearch_sku'] = $this->config->get('config_ajaxadvancedsearch_sku');
					}
					if (isset($this->request->post['config_ajaxadvancedsearch_highlight'])) {
						$this->data['config_ajaxadvancedsearch_highlight'] = $this->request->post['config_ajaxadvancedsearch_highlight'];
					} else {
						$this->data['config_ajaxadvancedsearch_highlight'] = $this->config->get('config_ajaxadvancedsearch_highlight');
					}
				/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
		<!-- 26-01-2015 starts -->
		<operation error="log">
			<search position="after"><![CDATA[
				public function index() {
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
					$this->document->addStyle('view/javascript/colorpicker/css/colorpicker.css');
					$this->document->addScript('view/javascript/colorpicker/js/colorpicker.js');
					/**
					*Ajax advanced search ends
					*/
			]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[
				public function index() {
			]]></search>
			<add><![CDATA[
				/**
					*Ajax advanced search starts
					*/
					/**26-01-2014 starts*/
					public function ajaxadvancedsearchtemplate() {
						if (isset($this->request->server['HTTPS'])) {
							$server = HTTPS_CATALOG;
						} else {
							$server = HTTP_CATALOG;
						}

						if (is_file(DIR_IMAGE . 'ajaxadvanced/' . basename($this->request->get['template']) . '.png')) {
							$this->response->setOutput($server . 'image/ajaxadvanced/' . basename($this->request->get['template']) . '.png');
						} else {
							$this->response->setOutput($server . 'image/no_image.png');
						}
					}
					/**26-01-2014 ends*/
					/**
						*Ajax advanced search ends
						*/
			]]></add>
		</operation>
		<!-- 26-01-2015 ends -->
	</file>
	<file name="admin/view/template/setting/setting.tpl">
		<!-- 26-01-2015 starts -->
		<operation error="log">
			<search position="before"><![CDATA[
				<?php echo $footer; ?>
			]]></search>
			<add><![CDATA[
				<!--
				/**
					*Ajax advanced search starts
					*/
				-->
				<!--26-01-2014 starts-->
				<script type="text/javascript"><!--
				$(document).ready(function(){
					var ajaxadvancedsearch_currentcol = null;
					$('.colorpickers').ColorPicker({
						curr : '',
						onShow: function (colpkr) {
							$(colpkr).fadeIn(500);
							return false;
						},
						onHide: function (colpkr) {
							$(colpkr).fadeOut(500);
							return false;
						},
						onSubmit: function(hsb, hex, rgb, el) {
							$(el).val(hex);
							$(el).ColorPickerHide();
						},
						onBeforeShow: function () {
							$(this).ColorPickerSetColor(this.value);
						},onChange: function (hsb, hex, rgb) {
							ajaxadvancedsearch_currentcol.curr.next('.preview').css('background', '#' + hex);
							ajaxadvancedsearch_currentcol.curr.val(hex);
						}
					})
					.bind('keyup', function(){
						$(this).ColorPickerSetColor(this.value);
					}).click(function(){
						ajaxadvancedsearch_currentcol = this;
						ajaxadvancedsearch_currentcol.curr = $(this);
					});

					$.each($('.colorpickers'),function(key,value){
						$(this).next('.preview').css({'background':'#'+$(this).val()});
					});

					$('input[name=\'config_ajaxadvancedsearch_result_view\']').on('click', function() {
						$.ajax({
							url: 'index.php?route=setting/setting/ajaxadvancedsearchtemplate&token=<?php echo $token; ?>&template=' + encodeURIComponent(this.value),
							dataType: 'html',
							beforeSend: function() {
							},
							complete: function() {
							},
							success: function(html) {
								$('#ajaxadvancedsearchtemplate').attr('src', html);
							},
							error: function(xhr, ajaxOptions, thrownError) {
								alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
							}
						});
					});

					$('input[name=\'config_ajaxadvancedsearch_result_view\']:checked').trigger('click');
				});
				//--></script>
				<script type="text/javascript"><!--
				$('#ajaxadvancedsearchtabs a').tabs();
				//--></script> 
				<!--26-01-2014 ends-->
				<!--
				/**
					*Ajax advanced search ends
					*/
				-->
			]]></add>
		</operation>
		<!-- 26-01-2015 ends -->
		<operation error="log">
			<search position="replace"><![CDATA[
				<a href="#tab-server"><?php echo $tab_server; ?></a>
			]]></search>
			<add><![CDATA[
				<!--
				/**
					*Ajax advanced search starts
					*/
				-->
				<a href="#tab-server"><?php echo $tab_server; ?></a>
				<a href="#tab-ajaxadvancedsearch"><?php echo $tab_ajaxadvancedsearch; ?></a>
				<!--	
				/**
					*Ajax advanced search ends
					*/
				-->	
			]]></add>
		</operation>
		<operation error="log">
			<search position="before"><![CDATA[
				</form>
			]]></search>
			<add><![CDATA[
				<!--
				/**
					*Ajax advanced search starts
					*/
				-->	
				<div class="tab-pane" id="tab-ajaxadvancedsearch">
					<div class="tab-content">
						<div class="tab-pane">
							<?php $chk = 'checked="checked"';?>
							<!-- 26-01-2014 starts -->
							<style>
								.colorpickers {margin-top:10px; display: flex; }
								table.colorform > tbody > tr > td:first-child { width: auto; }
								.preview { width: 60px; height: 15px; background: #fff; border: 1px solid #dddddd; padding: 3px; margin-top:10px; display:inline-block; }
							</style>
							<!-- 26-01-2014 ends -->
							<ul id="ajaxadvancedsearchtabs" class="htabs">
								<a href="#tab-ajaxadvancedsearchgeneral"><?php echo $tab_ajaxadvancedsearchgeneral; ?></a>
								<a href="#tab-ajaxadvancedsearchsearch"><?php echo $tab_ajaxadvancedsearchsearch; ?></a>
								<a href="#tab-ajaxadvancedsearchshow"><?php echo $tab_ajaxadvancedsearchshow; ?></a>
								<a href="#tab-ajaxadvancedsearchcolors"><?php echo $tab_ajaxadvancedsearchcolors; ?></a>
							</ul>
							<?php $chk = 'checked="checked"';?>
							<div class="tab-content">
								<div id="tab-ajaxadvancedsearchgeneral">
									<table class="form">
									<tr>
										<td><?php echo $text_ajaxadvancedsearch; ?></td>
										<td><label for="ajaxadvancedsearch-status1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch" value="1" <?php if($config_ajaxadvancedsearch==1){echo $chk;}?> /> <?php echo $text_enabled; ?></label><label for="ajaxadvancedsearch-status0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch" value="0" <?php if($config_ajaxadvancedsearch==0 || !$config_ajaxadvancedsearch){echo $chk;}?> /> <?php echo $text_disabled; ?></label></td>
									</tr>
									<tr>
										<td><?php echo $text_ajaxadvancedsearch_limit; ?><?php echo $help_ajaxadvancedsearch_limit; ?></td>
										<td><input type="text" class="" name="config_ajaxadvancedsearch_limit" value="<?php echo $config_ajaxadvancedsearch_limit; ?>" /> </td>
									</tr>
									<!-- 26-01-2014 starts -->
									<tr class="form-group">
										<td><?php echo $text_ajaxadvancedsearch_charlimit; ?><?php echo $help_ajaxadvancedsearch_charlimit; ?></td>
										<td><input type="text" class="" name="config_ajaxadvancedsearch_charlimit" value="<?php echo $config_ajaxadvancedsearch_charlimit; ?>" /> </td>
									</tr>
									<!-- 26-01-2014 ends -->
									<tr class="form-group">
										<td><?php echo $text_display_image; ?></td>
										<td><label for="ajaxadvancedsearch-display-image1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_image" value="1" <?php if($config_ajaxadvancedsearch_image==1){echo $chk;}?> /> <?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-image0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_image" value="0" <?php if($config_ajaxadvancedsearch_image==0 || !$config_ajaxadvancedsearch_image){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
									</tr>
									<tr>
										<td><span class="required"> * </span><?php echo $text_imagesize; ?><?php echo $help_imagesize; ?></td>
										<td><?php echo $text_imagewidth; ?><input type="text" class="" name="config_ajaxadvancedsearch_image_width" value="<?php echo $config_ajaxadvancedsearch_image_width; ?>" placeholder="<?php echo $text_imagewidth; ?>" /><?php echo $text_imageheight; ?><input type="text" class="" name="config_ajaxadvancedsearch_image_height" value="<?php echo $config_ajaxadvancedsearch_image_height; ?>" placeholder="<?php echo $text_imageheight; ?>" />
										<?php if ($error_config_ajaxadvancedsearch_image) { ?>
											<span class="error"><?php echo $error_config_ajaxadvancedsearch_image; ?></span>
										<?php } ?>
										</td>
									</tr>
									<!-- 26-01-2014 starts -->
									<tr>
										<td><?php echo $text_result_view; ?></td>
										<td><label for="ajaxadvancedsearch-dsplay-query1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_result_view" value="border-bottom" <?php if($config_ajaxadvancedsearch_result_view=='border-bottom' ){echo $chk;}?> /><?php echo $text_result_viewbottom; ?></label><label for="ajaxadvancedsearch-dsplay-query0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_result_view" value="default-view" <?php if($config_ajaxadvancedsearch_result_view=='default-view' || empty($config_ajaxadvancedsearch_result_view)){echo $chk;}?> /> <?php echo $text_result_viewborder; ?></label><br/><img class="img-thumbnail" id="ajaxadvancedsearchtemplate" alt="" src=""></td>
									</tr>
									<!-- 26-01-2014 starts -->
									<tr>
										<td><?php echo $text_colorhighlight; ?><?php echo $help_colorpicker; ?></td>
										<td>									
											<table class="form colorform">
												<tbody>
												<tr>											
													<td><?php echo $text_colorhighlight; ?><br/><input size="60" type="text" class="colorpickers " name="config_ajaxadvancedsearch_color_highlight" value="<?php echo $config_ajaxadvancedsearch_color_highlight; ?>" placeholder="<?php echo $text_colorhighlight; ?>" /><div class="preview"></div></td>
													<td><?php echo $text_colorhighlighthover; ?><br/><input size="60" type="text" class="colorpickers " name="config_ajaxadvancedsearch_color_highlighthover" value="<?php echo $config_ajaxadvancedsearch_color_highlighthover; ?>" placeholder="<?php echo $text_colorhighlighthover; ?>" /><div class="preview"></div></td>
												</tr>
												</tbody>
											</table>
										</td>
									</tr>
									<!-- 26-01-2014 ends -->
									<tr>
										<td><?php echo $text_highlight; ?></td>
										<td><label for="ajaxadvancedsearch-highlight-sepeate" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_highlight" value="1" <?php if($config_ajaxadvancedsearch_highlight==1){echo $chk;}?> /><?php echo $text_highlight_sepeate; ?></label><label for="ajaxadvancedsearch-highlight-combine" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_highlight" value="2" <?php if($config_ajaxadvancedsearch_highlight==2){echo $chk;}?> /><?php echo $text_highlight_combine; ?></label><label for="ajaxadvancedsearch-highlight-no" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_highlight" value="0" <?php if($config_ajaxadvancedsearch_highlight==0 || !$config_ajaxadvancedsearch_highlight){echo $chk;}?> /><?php echo $text_highlight_no; ?></label></td>
									</tr>
								</table>
								</div> <!-- // tab-ajaxadvancedsearchgeneral end // -->
								<div class="tab-pane" id="tab-ajaxadvancedsearchcolors">
									<table class="form">
										<tbody>
										<tr class="form-group">
											<td><?php echo $text_colorenabletall; ?><?php echo $help_colorenableall; ?></td>
											<td class="col-sm-10"><label for="ajaxadvancedsearch-colorenableall1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_colorenabletall" value="1" <?php if($config_ajaxadvancedsearch_colorenabletall==1){echo $chk;}?> /><?php echo $text_enabled; ?></label><label for="ajaxadvancedsearch-colorenableall0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_colorenabletall" value="0" <?php if($config_ajaxadvancedsearch_colorenabletall==0 || !$config_ajaxadvancedsearch_colorenabletall){echo $chk;}?> /> <?php echo $text_disabled; ?></label></td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_colordefaultall; ?><?php echo $help_colordefaultall; ?></td>
											<td class="col-sm-10"><label for="ajaxadvancedsearch-colordefaultall1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_colordefaultall" value="1" <?php if($config_ajaxadvancedsearch_colordefaultall==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-colordefaultall0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_colordefaultall" value="0" <?php if($config_ajaxadvancedsearch_colordefaultall==0 || !$config_ajaxadvancedsearch_colordefaultall){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_colordefaultall; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colordefault; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_default" value="<?php echo $config_ajaxadvancedsearch_color_default; ?>" placeholder="<?php echo $text_colordefault; ?>" /><div class="preview"></div></td>
														<td><?php echo $text_colordefaulthover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_defaulthover" value="<?php echo $config_ajaxadvancedsearch_color_defaulthover; ?>" placeholder="<?php echo $text_colordefaulthover; ?>" /><div class="preview"></div></td>						
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_colorheading; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colorheading; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_heading" value="<?php echo $config_ajaxadvancedsearch_color_heading; ?>" placeholder="<?php echo $text_colorheading; ?>" /><div class="preview"></div></td>
														<td class="col-sm-6 row"><?php echo $text_colorheadinghover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_headinghover" value="<?php echo $config_ajaxadvancedsearch_color_headinghover; ?>" placeholder="<?php echo $text_colorheadinghover; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colormodel; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colormodel; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_model" value="<?php echo $config_ajaxadvancedsearch_color_model; ?>" placeholder="<?php echo $text_colormodel; ?>" /><div class="preview"></div></td>
														<td class="col-sm-6 row"><?php echo $text_colormodelhover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_modelhover" value="<?php echo $config_ajaxadvancedsearch_color_modelhover; ?>" placeholder="<?php echo $text_colormodelhover; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colormanufacturer; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colormanufacturer; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_manufacturer" value="<?php echo $config_ajaxadvancedsearch_color_manufacturer; ?>" placeholder="<?php echo $text_colormanufacturer; ?>" /><div class="preview"></div></td>
														<td><?php echo $text_colormanufacturerhover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_manufacturerhover" value="<?php echo $config_ajaxadvancedsearch_color_manufacturerhover; ?>" placeholder="<?php echo $text_colormanufacturerhover; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colorprice; ?><?php echo $help_colorpicker; ?></td>
											<td class="col-sm-10">
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colorprice; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_price" value="<?php echo $config_ajaxadvancedsearch_color_price; ?>" placeholder="<?php echo $text_colorprice; ?>" /><div class="preview"></div></td>
														<td class="col-sm-6 row"><?php echo $text_colorpricehover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_pricehover" value="<?php echo $config_ajaxadvancedsearch_color_pricehover; ?>" placeholder="<?php echo $text_colorpricehover; ?>" /><div class="preview"></div></td>
														</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colorstockstatus; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colorstockstatus; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_stockstatus" value="<?php echo $config_ajaxadvancedsearch_color_stockstatus; ?>" placeholder="<?php echo $text_colorstockstatus; ?>" /><div class="preview"></div></td>
														<td class="col-sm-6 row"><?php echo $text_colorstockstatushover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_stockstatushover" value="<?php echo $config_ajaxadvancedsearch_color_stockstatushover; ?>" placeholder="<?php echo $text_colorstockstatushover; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_colorquantity; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colorquantity; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_quantity" value="<?php echo $config_ajaxadvancedsearch_color_quantity; ?>" placeholder="<?php echo $text_colorquantity; ?>" /><div class="preview"></div></td>							
														<td><?php echo $text_colorquantityhover; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_quantityhover" value="<?php echo $config_ajaxadvancedsearch_color_quantityhover; ?>" placeholder="<?php echo $text_colorquantityhover; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colorresult; ?><?php echo $help_colorpicker; ?></td>
											<td>
												<table class="form colorform">
													<tbody>
													<tr>
														<td><?php echo $text_colorresulteven; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_evenresult" value="<?php echo $config_ajaxadvancedsearch_color_evenresult; ?>" placeholder="<?php echo $text_colorresulteven; ?>" /><div class="preview"></div></td>						
														<td class="col-sm-6 row"><?php echo $text_colorresultodd; ?><br/><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_oddresult" value="<?php echo $config_ajaxadvancedsearch_color_oddresult; ?>" placeholder="<?php echo $text_colorresultodd; ?>" /><div class="preview"></div></td>
													</tr>
													</tbody>
												</table>
											</td>
										</tr>
										<tr>
											<td><?php echo $text_colorresulthover; ?><?php echo $help_colorpicker; ?></td>
											<td><input size="60" type="text" class="colorpickers" name="config_ajaxadvancedsearch_color_resulthover" value="<?php echo $config_ajaxadvancedsearch_color_resulthover; ?>" placeholder="<?php echo $text_colorresulthover; ?>" /><div class="preview"></div></td>
										</tr>
										</tbody>
									</table>
								</div> <!-- // tab-ajaxadvancedsearchcolors end // -->

								<!-- 26-01-2014 ends -->
								<div class="tab-pane" id="tab-ajaxadvancedsearchshow">
									<table class="form">
										<tbody>
										<!-- 26-01-2014 starts -->
										<tr>
											<td><?php echo $text_display_query; ?><?php echo $help_display_query; ?></td>
											<td><label for="ajaxadvancedsearch-dsplay-query1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_displayallresults" value="1" <?php if($config_ajaxadvancedsearch_displayallresults==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-dsplay-query0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_displayallresults" value="0" <?php if($config_ajaxadvancedsearch_displayallresults==0 || !$config_ajaxadvancedsearch_displayallresults){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<!-- 26-01-2014 ends -->
										<tr>
											<td><?php echo $text_display_model; ?></td>
											<td><label for="ajaxadvancedsearch-display-model1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_model" value="1" <?php if($config_ajaxadvancedsearch_model==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-model0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_model" value="0" <?php if($config_ajaxadvancedsearch_model==0 || !$config_ajaxadvancedsearch_model){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_display_manufacturer; ?></td>
											<td><label for="ajaxadvancedsearch-display-manufacturer1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_manufacturer" value="1" <?php if($config_ajaxadvancedsearch_manufacturer==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-manufacturer0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_manufacturer" value="0" <?php if($config_ajaxadvancedsearch_manufacturer==0 || !$config_ajaxadvancedsearch_manufacturer){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_display_price; ?></td>
											<td><label for="ajaxadvancedsearch-display-price1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_price" value="1" <?php if($config_ajaxadvancedsearch_price==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-price0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_price" value="0" <?php if($config_ajaxadvancedsearch_price==0 || !$config_ajaxadvancedsearch_price){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>										
										<!--/**Customer group price show starts*/-->
										<tr>
											<td><?php echo $text_login_display_price; ?><?php echo $help_login_display_price; ?></td>
											<td><label class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_pricelogin" value="1" <?php if($config_ajaxadvancedsearch_pricelogin==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_pricelogin" value="0" <?php if($config_ajaxadvancedsearch_pricelogin==0 || !$config_ajaxadvancedsearch_pricelogin){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>							
										<tr>
											<td><?php echo $text_display_price_customergroups; ?><?php echo $help_display_price_customergroups; ?></td>
											<td>
												<div class="scrollbox">
													<?php $class = 'odd'; ?>
													<?php foreach($ajaxadvance_customergroups as $ajaxadvance_customergroup) {
													$chk1='';
													if(in_array($ajaxadvance_customergroup['customer_group_id'],$config_ajaxadvancedsearch_customergroups)){
														$chk1='checked="checked"';
													}
													?>
													<?php $class = ($class == 'even' ? 'odd' : 'even'); ?>
													<div id="group-<?php echo $ajaxadvance_customergroup['customer_group_id']; ?>" class="<?php echo $class; ?>">
													<label><input <?php echo $chk1; ?> type="checkbox" name="config_ajaxadvancedsearch_customergroups[]" value="<?php echo $ajaxadvance_customergroup['customer_group_id']; ?>">
													<?php echo $ajaxadvance_customergroup['name']; ?></label>
													</div>
													<?php } ?>
												</div>
											</td>
										</tr>
										<!--/**Customer group price show ends*/-->										
										<tr>
											<td><?php echo $text_display_rating; ?></td>
											<td><label for="ajaxadvancedsearch-display-rating1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_rating" value="1" <?php if($config_ajaxadvancedsearch_rating==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-rating0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_rating" value="0" <?php if($config_ajaxadvancedsearch_rating==0 || !$config_ajaxadvancedsearch_rating){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_display_stock; ?></td>
											<td><label for="ajaxadvancedsearch-display-stock1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_stock" value="1" <?php if($config_ajaxadvancedsearch_stock==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-stock0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_stock" value="0" <?php if($config_ajaxadvancedsearch_stock==0 || !$config_ajaxadvancedsearch_stock){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<!-- 26-01-2014 starts -->
										<tr class="form-group">
											<td><?php echo $text_display_quantity; ?></td>
											<td><label for="ajaxadvancedsearch-display-quantity1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_quantity" value="1" <?php if($config_ajaxadvancedsearch_quantity==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-display-quantity0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_quantity" value="0" <?php if($config_ajaxadvancedsearch_quantity==0 || !$config_ajaxadvancedsearch_quantity){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<!-- 26-01-2014 ends -->
										</tbody>
									</table>
								</div> <!-- // tab-ajaxadvancedsearchshow end // -->
								<div class="tab-pane" id="tab-ajaxadvancedsearchsearch">
									<table class="form">
										<tbody>
										<tr>
											<td><?php echo $text_search_model; ?></td>
											<td><label for="ajaxadvancedsearch-search-model1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_model_search" value="1" <?php if($config_ajaxadvancedsearch_model_search==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-model0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_model_search" value="0" <?php if($config_ajaxadvancedsearch_model_search==0 || !$config_ajaxadvancedsearch_model_search){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr class="form-group">
											<td><?php echo $text_search_tag; ?></td>
											<td><label for="ajaxadvancedsearch-search-tag1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_tag" value="1" <?php if($config_ajaxadvancedsearch_tag==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-tag0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_tag" value="0" <?php if($config_ajaxadvancedsearch_tag==0 || !$config_ajaxadvancedsearch_tag){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_mpn; ?></td>
											<td><label for="ajaxadvancedsearch-searh-mpn1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_mpn" value="1" <?php if($config_ajaxadvancedsearch_mpn==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-searh-mpn0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_mpn" value="0" <?php if($config_ajaxadvancedsearch_mpn==0 || !$config_ajaxadvancedsearch_mpn){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_manufacturer; ?></td>
											<td><label for="ajaxadvancedsearch-searh-manufacturer1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_manufacturer_search" value="1" <?php if($config_ajaxadvancedsearch_manufacturer_search==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-searh-manufacturer0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_manufacturer_search" value="0" <?php if($config_ajaxadvancedsearch_manufacturer_search==0 || !$config_ajaxadvancedsearch_manufacturer_search){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_isbn; ?></td>
											<td><label for="ajaxadvancedsearch-search-isbn1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_isbn" value="1" <?php if($config_ajaxadvancedsearch_isbn==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-isbn0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_isbn" value="0" <?php if($config_ajaxadvancedsearch_isbn==0 || !$config_ajaxadvancedsearch_isbn){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_jan; ?></td>
											<td><label for="ajaxadvancedsearch-search-jan1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_jan" value="1" <?php if($config_ajaxadvancedsearch_jan==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-jan0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_jan" value="0" <?php if($config_ajaxadvancedsearch_jan==0 || !$config_ajaxadvancedsearch_jan){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_ean; ?></td>
											<td><label for="ajaxadvancedsearch-search-ean1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_ean" value="1" <?php if($config_ajaxadvancedsearch_ean==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-ean0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_ean" value="0" <?php if($config_ajaxadvancedsearch_ean==0 || !$config_ajaxadvancedsearch_ean){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_upc; ?></td>
											<td><label for="ajaxadvancedsearch-search-upc1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_upc" value="1" <?php if($config_ajaxadvancedsearch_upc==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-upc0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_upc" value="0" <?php if($config_ajaxadvancedsearch_upc==0 || !$config_ajaxadvancedsearch_upc){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										<tr>
											<td><?php echo $text_search_sku; ?></td>
											<td><label for="ajaxadvancedsearch-search-sku1" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_sku" value="1" <?php if($config_ajaxadvancedsearch_sku==1){echo $chk;}?> /><?php echo $text_yes; ?></label><label for="ajaxadvancedsearch-search-sku0" class="radio-inline"><input type="radio" name="config_ajaxadvancedsearch_sku" value="0" <?php if($config_ajaxadvancedsearch_sku==0 || !$config_ajaxadvancedsearch_sku){echo $chk;}?> /> <?php echo $text_no; ?></label></td>
										</tr>
										</tbody>
									</table>
								</div> <!-- // tab-ajaxadvancedsearchsearch end // -->
							</div> <!-- // tab-content end // -->
						</div>
					</div>
				</div>	
				<!--
				/**
					*Ajax advanced search ends
					*/
				-->	
			]]></add>
		</operation>
	</file>
	<!--Admin ends-->
</modification>